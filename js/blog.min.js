(()=>{"use strict";const e=e=>JSON.parse(localStorage.getItem(e))||[],t=document.querySelector(".header__menu-button"),a=document.querySelector(".menu");t.addEventListener("click",(()=>{t.classList.toggle("header__menu-button_close"),a.classList.toggle("menu_active")})),(()=>{const t=e("cart").reduce(((e,t)=>e+t.quantity),0);document.querySelector(".header__link_cart").dataset.total=t})();const c=document.querySelectorAll(".footer__list_cover");document.querySelectorAll(".footer__button").forEach(((e,t)=>{e.addEventListener("click",(()=>{e.classList.toggle("footer__button_active");for(let e=0;e<c.length;e++)t===e&&c[e].classList.toggle("footer__list_active")}))}));const n=e=>{const t=document.createElement("li");t.className="footer__item";const a=document.createElement("a");return a.className="footer__link",a.href="category.html?search="+e,a.textContent=e,t.append(a),t},o=e=>{const t=document.createElement("li");t.className="menu__item";const a=document.createElement("a");return a.className="menu__link",a.href="category.html?search="+e,a.textContent=e,t.append(a),t};(async()=>{const e=await(async()=>{const e=await fetch("https://shorthaired-veiled-fascinator.glitch.me/api/category");return await e.json()})(),t=document.querySelector(".footer__list_two-cols"),a=document.querySelector(".menu__list_two-cols");t.append(...e.map(n)),a.append(...e.map(o))})();(async()=>{const e=await(async()=>{const e=window.location.search,t=await fetch(`https://gorest.co.in/public-api/posts${e}`);return(await t.json()).data})(),t=document.querySelector(".main__container"),a=document.createElement("div");a.className="main__list";const c=e.map((({id:e,title:t})=>{const a=document.createElement("a");return a.className="article-card",a.href=`article.html?id=${e}`,a.innerHTML=`\n      <img class="article-card__image" src="img/test.png" alt="Превью статьи" width="195" height="195">\n      <div class="article-card__info">\n        <h2 class="article-card__title">${t}</h2>\n        <div class="article-card__wrapper">\n          <p class="article-card__date">22 октября 2021, 12:45</p>\n          <ul class="article-card__community">\n            <li class="article-card__item article-card__item_views">1.2K</li>\n            <li class="article-card__item article-card__item_comments">0</li>\n          </ul>\n        </div>\n      </div>\n    `,a}));a.append(...c),t.prepend(a)})(),(async()=>{const{pages:e}=await(async()=>{const e=await fetch("https://gorest.co.in/public-api/posts");return(await e.json()).meta.pagination})(),t=document.querySelector(".navigation__buttons-group"),a=document.querySelector(".navigation__arrow_prev"),c=document.querySelector(".navigation__arrow_next"),n=Number(window.location.search.replace("?page=",""))||1;((e,t,a,c,n)=>{const o={prev:a-1,middle:a,next:a+1};o.prev<=0&&(o.prev=a,o.middle=a+1,o.next=a+2,c.classList.add("navigation__arrow_disabled")),o.next>t&&(o.prev=a-2,o.middle=a-1,o.next=a,n.classList.add("navigation__arrow_disabled")),Object.values(o).forEach((t=>{const c=document.createElement("a");c.className="navigation__button",t===a&&c.classList.add("navigation__button_active"),c.href=`blog.html?page=${t}`,c.textContent=t,e.append(c)}))})(t,e,n,a,c),a.href="blog.html?page="+(n-1),c.href=`blog.html?page=${n+1}`})()})();