(()=>{"use strict";const t=t=>JSON.parse(localStorage.getItem(t))||[],e=document.querySelector(".header__menu-button"),a=document.querySelector(".menu");e.addEventListener("click",(()=>{e.classList.toggle("header__menu-button_close"),a.classList.toggle("menu_active")})),(()=>{const e=t("cart").reduce(((t,e)=>t+e.quantity),0);document.querySelector(".header__link_cart").dataset.total=e})();const n=document.querySelectorAll(".footer__list_cover");document.querySelectorAll(".footer__button").forEach(((t,e)=>{t.addEventListener("click",(()=>{t.classList.toggle("footer__button_active");for(let t=0;t<n.length;t++)e===t&&n[t].classList.toggle("footer__list_active")}))}));const c=t=>{const e=document.createElement("li");e.className="footer__item";const a=document.createElement("a");return a.className="footer__link",a.href="category.html?search="+t,a.textContent=t,e.append(a),e},o=t=>{const e=document.createElement("li");e.className="menu__item";const a=document.createElement("a");return a.className="menu__link",a.href="category.html?search="+t,a.textContent=t,e.append(a),e};(async()=>{const t=await(async()=>{const t=await fetch("https://shorthaired-veiled-fascinator.glitch.me/api/category");return await t.json()})(),e=document.querySelector(".footer__list_two-cols"),a=document.querySelector(".menu__list_two-cols");e.append(...t.map(c)),a.append(...t.map(o))})();(async()=>{const t=await(async()=>{const t=window.location.search,e=await fetch(`https://gorest.co.in/public-api/posts${t}`);return(await e.json()).data})(),e=document.querySelector(".main__container"),a=document.createElement("div");a.className="main__list";const n=t.map((({id:t,title:e})=>{const a=document.createElement("a");return a.className="article-card",a.href=`article.html?id=${t}`,a.innerHTML=`\n      <img class="article-card__image" src="img/test.png" alt="Превью статьи" width="195" height="195">\n      <div class="article-card__info">\n        <h2 class="article-card__title">${e}</h2>\n        <div class="article-card__wrapper">\n          <p class="article-card__date">22 октября 2021, 12:45</p>\n          <ul class="article-card__community">\n            <li class="article-card__item article-card__item_views">1.2K</li>\n            <li class="article-card__item article-card__item_comments">0</li>\n          </ul>\n        </div>\n      </div>\n    `,a}));a.append(...n),e.prepend(a)})(),(async()=>{const{pages:t}=await(async()=>{const t=await fetch("https://gorest.co.in/public-api/posts");return(await t.json()).meta.pagination})(),e=document.createElement("div");e.className="navigation",e.innerHTML='\n    <a class="navigation__arrow navigation__arrow_prev">\n      <svg width="29" height="19" viewBox="0 0 29 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M28.375 7.95833H6.52958L12.0487 2.42375L9.875 0.25L0.625 9.5L9.875 18.75L12.0487 16.5763L6.52958 11.0417H28.375V7.95833Z" />\n      </svg>\n    </a>\n    <div class="navigation__buttons-group"></div>\n    <a class="navigation__arrow navigation__arrow_next">\n      <svg width="29" height="19" viewBox="0 0 29 19" fill="currentColor" xmlns="http://www.w3.org/2000/svg">\n        <path\n          d="M0.625 7.95833H22.4704L16.9513 2.42375L19.125 0.25L28.375 9.5L19.125 18.75L16.9513 16.5763L22.4704 11.0417H0.625V7.95833Z" />\n      </svg>\n    </a>\n  ',document.querySelector(".main__container").append(e);const a=document.querySelector(".navigation__buttons-group"),n=document.querySelector(".navigation__arrow_prev"),c=document.querySelector(".navigation__arrow_next"),o=Number(window.location.search.replace("?page=",""))||1;((t,e,a,n,c)=>{const o={prev:a-1,middle:a,next:a+1};o.prev<=0&&(o.prev=a,o.middle=a+1,o.next=a+2,n.classList.add("navigation__arrow_disabled")),o.next>e&&(o.prev=a-2,o.middle=a-1,o.next=a,c.classList.add("navigation__arrow_disabled")),Object.values(o).forEach((e=>{const n=document.createElement("a");n.className="navigation__button",e===a&&n.classList.add("navigation__button_active"),n.href=`blog.html?page=${e}`,n.textContent=e,t.append(n)}))})(a,t,o,n,c),n.href="blog.html?page="+(o-1),c.href=`blog.html?page=${o+1}`})()})();