(()=>{"use strict";const t=t=>JSON.parse(localStorage.getItem(t))||[],e=document.querySelector(".header__menu-button"),o=document.querySelector(".menu");e.addEventListener("click",(()=>{e.classList.toggle("header__menu-button_close"),o.classList.toggle("menu_active")})),(()=>{const e=t("cart").reduce(((t,e)=>t+e.quantity),0);document.querySelector(".header__link_cart").dataset.total=e})();const n=document.querySelectorAll(".footer__list_cover");document.querySelectorAll(".footer__button").forEach(((t,e)=>{t.addEventListener("click",(()=>{t.classList.toggle("footer__button_active");for(let t=0;t<n.length;t++)e===t&&n[t].classList.toggle("footer__list_active")}))}));const s=t=>{const e=document.createElement("li");e.className="footer__item";const o=document.createElement("a");return o.className="footer__link",o.href="category.html?search="+t,o.textContent=t,e.append(o),e},a=t=>{const e=document.createElement("li");e.className="menu__item";const o=document.createElement("a");return o.className="menu__link",o.href="category.html?search="+t,o.textContent=t,e.append(o),e};(async()=>{const t=await(async()=>{const t=await fetch("https://shorthaired-veiled-fascinator.glitch.me/api/category");return await t.json()})(),e=document.querySelector(".footer__list_two-cols"),o=document.querySelector(".menu__list_two-cols");e.append(...t.map(s)),o.append(...t.map(a))})();(async()=>{const{title:t,body:e,user_id:o}=await(async()=>{const t=window.location.search.replace("?id=",""),e=await fetch(`https://gorest.co.in/public-api/posts/${t}`);return(await e.json()).data})(),{name:n}=await(async t=>{const e=await fetch(`https://gorest.co.in/public-api/users/${t}`);return(await e.json()).data})(o);document.querySelector(".navigation-chain__item:last-child").textContent=t;const s=document.querySelector(".post__container"),a=document.createElement("div");a.className="post__wrapper",a.innerHTML=`\n    <h1 class="post__title">${t}</h1>\n    <div class="post__text">\n      <p class="post__paragraph">${e}</p>\n    </div>\n\n    <div class="post__footer">\n      <div class="post__info">\n        <p class="post__author">${n}</p>\n        <p class="post__date">22 октября 2021, 12:45</p>\n        <ul class="post__community">\n          <li class="post__item post__item_views">1.2K</li>\n          <li class="post__item post__item_comments">0</li>\n        </ul>\n      </div>\n\n      <a class="post__button" href="blog.html">К списку статей</a>\n    </div>\n  `,s.prepend(a)})()})();